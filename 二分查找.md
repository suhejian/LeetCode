# 二分查找

二分查找的前置条件：**数组有序**

一些注意事项：

- `start`和`end`的循环条件：必须**保证所有元素都遍历到**，是`<=`还是`<`需要注意
  
  `[start, end]`或者`[start, end)`可以理解为**搜索区间**，设置循环条件的时候需要保证搜索区间内每一个位置都被搜索过。没有遗漏。

- 计算`mid`时需要防止溢出，可以用`start + (end - start) // 2`来计算

- `start`和`end`的更新：要不要给`mid`+1还是-1，也需要注意
  
  归根结底还是需要保证搜索空间无遗漏

---

题目列表：

- [x] 704.二分查找

- [x] 374.猜数字大小

## 寻找单个数值

### 704.二分查找

> 给定一个`n`个元素有序的整型数组`nums`和一个目标值`target`，写一个函数搜索`nums`中的`target`，如果目标值存在返回下标，否则返回`-1`

```python
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        start, end = 0, len(nums) - 1
        while start <= end:
            mid = int((end - start) // 2) + start
            if nums[mid] == target:
                return mid
            elif nums[mid] > target:
                end = mid - 1
            else:
                start = mid + 1
        return -1
```

### 374.猜数字大小

```python
# The guess API is already defined for you.
# @param num, your guess
# @return -1 if my number is lower, 1 if my number is higher, otherwise return 0
# def guess(num: int) -> int:

class Solution:
    def guessNumber(self, n: int) -> int:
        start, end = 1, n
        while start <= end:
            mid = start + (end - start) // 2
            if guess(mid) == 0:
                return mid
            elif guess(mid) < 0:
                end = mid - 1
            else:
                start = mid + 1
        return start
```


